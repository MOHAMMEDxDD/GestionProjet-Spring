<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Modifier Tâche</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>body { background-color: #f8f9fa; padding-top: 50px; }</style>
</head>
<body>
    <div class="container" style="max-width: 600px;">
        <div class="card shadow-sm border-0">
            <div class="card-header bg-warning text-white text-center py-3">
                <h4 class="mb-0 text-dark">Modifier la Tâche</h4>
            </div>
            <div class="card-body p-4">
                <form action="/task/update" method="post" th:object="${task}">
                    <input type="hidden" th:field="*{id}">
                    <input type="hidden" th:field="*{statut}"> <input type="hidden" th:field="*{progression}">

                    <label class="form-label fw-bold">Titre</label>
                    <input type="text" th:field="*{titre}" class="form-control mb-3" required>
                    
                    <label class="form-label fw-bold">Projet</label>
                    <select name="projectId" class="form-select mb-3">
                        <option th:each="p : ${projects}" th:value="${p.id}" th:text="${p.nom}" th:selected="${p.id == task.project.id}"></option>
                    </select>
                    
                    <label class="form-label fw-bold">Développeur</label>
                    <select name="responsableId" class="form-select mb-3">
                        <option th:each="dev : ${developers}" th:value="${dev.id}" th:text="${dev.nomComplet}" th:selected="${dev.id == task.responsable.id}"></option>
                    </select>
                    
                    <label class="form-label fw-bold">Date Échéance</label>
                    <input type="date" th:field="*{dateEcheance}" class="form-control mb-4">

                    <button class="btn btn-warning w-100 fw-bold mb-2">Mettre à jour</button>
                    <a href="/dashboard-responsable" class="btn btn-light w-100 text-muted">Annuler</a>
                </form>
            </div>
        </div>
    </div>
</body>
</html>